# AI Archives System Integration Rules

These rules govern how AI agents should interact with the AI Archives system, search for information, update archives, and handle custom rules.

## IMMEDIATE ACTION RULES FOR AI AGENTS

- **ALWAYS CHECK ARCHIVES FIRST**: When you see the user mention "archives", "check archives", or "search archives", IMMEDIATELY use the archives search functionality as your first action.
- **USE THE OPTIMAL SEARCH COMMAND**: For best results, use: `python scripts/archives_cli.py quick-search "query"` - this provides formatted results optimized for AI agents.
- **DATA REPO PROXY SCRIPTS**: If in a project linked to the data repo, use: `python path/to/data-repo/scripts/search_archives.py "query"`.
- **DO NOT WASTE STEPS**: If the user is looking for information that might be in the archives, go directly to the archives search rather than exploring project directories.

```bash
# OPTIMAL WAY to search archives (DO THIS FIRST)
python scripts/archives_cli.py quick-search "your search term"

# OR if you're in a project with data repo
python path/to/data-repo/scripts/search_archives.py "your search term"
```

## Archives Search and Retrieval

- **Proactive Search**: Before attempting to solve complex problems, search the archives for relevant information.
- **User-Triggered Search**: When the user says "search archives" or "check archives" for a topic, immediately use the archives search functionality.
- **Cross-Project Knowledge**: When working on tasks that may involve both frontend and backend, search both project archives.

```bash
# Quick search examples
python scripts/archives_cli.py quick-search "authentication error"
python path/to/data-repo/scripts/search_archives.py "authentication error"
```

## Archives Update Protocol

- **User Permission Required**: NEVER add to archives automatically. Only add content when explicitly requested by the user.
- **Update Triggers**: When the user says phrases like "add this to archives", "update archives with", or "document this in archives", then update archives.
- **Proper Categorization**: Categorize new information by project (frontend, backend, shared) and section (setup, architecture, errors, fixes, apis, etc.)

```bash
# Example archive update command
python scripts/archives_cli.py add --project=frontend --section=errors --title="Title" --content="Content"
python path/to/data-repo/scripts/search_archives.py add --project=frontend --section=errors --title="Title" --content="Content"
```

## Custom Rules Management

- **Rule Update Triggers**: When the user says "update the rules to...", "add rule for...", update the CUSTOM RULES, not the .cursorrules file.
- **NEVER Edit .cursorrules Directly**: The .cursorrules file is generated by combining base rules with custom rules. Never edit it directly.

```bash
# Regenerate the cursorrules file
python scripts/integrate_cursorrules.py
python path/to/data-repo/scripts/regenerate_cursorrules.py
```
